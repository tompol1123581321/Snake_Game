(this["webpackJsonpreact-snake"]=this["webpackJsonpreact-snake"]||[]).push([[0],{18:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(3),l=n.n(c),u=n(21),i=(n(5),function(){return r.a.createElement("div",null,r.a.createElement(u.a,{variant:"primary",expand:"lg",className:"header"},r.a.createElement(u.a.Brand,null,"Snake Game")))}),o=n(10),f=n(1);var s=[500,500],m=[[14,13],[14,14]],d=[8,3],b=20,v={38:[0,-1],40:[0,1],37:[-1,0],39:[1,0]},E=function(e){var t=e.score,n=localStorage.getItem("score");Object(a.useEffect)((function(){i(n)}),[n]);var c=Object(a.useState)(0),l=Object(f.a)(c,2),u=l[0],i=l[1];return Object(a.useEffect)((function(){t>u&&(i(t),localStorage.setItem("score",t))}),[t,u]),r.a.createElement("div",null,r.a.createElement("h2",null,"Your best score: ",u),r.a.createElement("h2",null,"Your score: ",t))},O=function(){var e=Object(a.useRef)(),t=Object(a.useState)(m),n=Object(f.a)(t,2),c=n[0],l=n[1],u=Object(a.useState)(d),i=Object(f.a)(u,2),O=i[0],j=i[1],h=Object(a.useState)([0,-1]),y=Object(f.a)(h,2),g=y[0],p=y[1],S=Object(a.useState)(null),w=Object(f.a)(S,2),k=w[0],x=w[1],C=Object(a.useState)(!0),N=Object(f.a)(C,2),I=N[0],R=N[1];!function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){return M()}),k);var J=function(){return O.map((function(e,t){return Math.floor(Math.random()*(s[t]/b))}))},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;if(e[0]*b>=s[0]||e[0]<0||e[1]*b>=s[1]||e[1]<0)return!0;var n,a=Object(o.a)(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(e[0]===r[0]&&e[1]===r[1])return!0}}catch(l){a.e(l)}finally{a.f()}return!1},M=function(){var e=JSON.parse(JSON.stringify(c)),t=[e[0][0]+g[0],e[0][1]+g[1]];e.unshift(t),B(t)&&(x(null),R(!0),T("Click the playing field to Start")),function(e){if(e[0][0]===O[0]&&e[0][1]===O[1]){P(K+1);for(var t=J();B(t,e);)t=J();return j(t),!0}return!1}(e)||e.pop(),l(e)};Object(a.useEffect)((function(){var t=e.current.getContext("2d");t.setTransform(b,0,0,b,0,0),t.clearRect(0,0,window.innerWidth,window.innerHeight),t.fillStyle="gray",c.forEach((function(e){var n=Object(f.a)(e,2),a=n[0],r=n[1];return t.fillRect(a,r,1,1)})),t.fillStyle="red",t.fillRect(O[0],O[1],1,1)}),[c,O,I]);var W=Object(a.useState)("Click the playing field to Start"),D=Object(f.a)(W,2),G=D[0],T=D[1],Y=Object(a.useState)(0),H=Object(f.a)(Y,2),K=H[0],P=H[1];return r.a.createElement("div",{className:"mainScreen",style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",{role:"button",tabIndex:"1",onKeyDown:function(e){return function(e){var t=e.keyCode;return t>=37&&t<=40&&p(v[t])}(e)},style:{display:"flex",flexDirection:"row",justifyContent:"space-around",maxWidth:"70rem",margin:"auto"},onClick:function(){P(0),l(m),j(d),p([0,-1]),x(120),R(!1),T("Game is running")}},r.a.createElement("div",{style:{width:"25rem"}},r.a.createElement(E,{score:K}),r.a.createElement("div",null,r.a.createElement("h4",null,G))),r.a.createElement("canvas",{style:{border:"2px solid gray",backgroundColor:"white",margin:"auto"},ref:e,width:"".concat(s[0],"px"),height:"".concat(s[1],"px")})))},j=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer"},r.a.createElement("h6",null,"2020 WEBTOM")))},h=function(){return r.a.createElement("div",{className:"wholePage"},r.a.createElement(i,null),r.a.createElement(O,null),r.a.createElement(j,null))};l.a.render(r.a.createElement(h,null),document.getElementById("root"))},5:function(e,t,n){}},[[18,1,2]]]);
//# sourceMappingURL=main.d4d54f3a.chunk.js.map
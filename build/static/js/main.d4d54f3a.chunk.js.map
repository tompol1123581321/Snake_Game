{"version":3,"sources":["components/Header.js","constants.js","components/bestScore.js","components/mainSreen.js","useInterval.js","components/footer.js","App.js","index.js"],"names":["Header","Navbar","variant","expand","className","Brand","CANVAS_SIZE","SNAKE_START","APPLE_START","SCALE","DIRECTIONS","38","40","37","39","BestScore","score","theBestHistoryScore","localStorage","getItem","useEffect","setBestScore","useState","bestScore","setItem","MainSreen","canvasRef","useRef","snake","setSnake","apple","setApple","dir","setDir","speed","setSpeed","gameOver","setGameOver","callback","delay","savedCallback","current","id","setInterval","clearInterval","useInterval","gameLoop","createApple","map","_a","i","Math","floor","random","checkCollision","piece","snk","segment","snakeCopy","JSON","parse","stringify","newSnakeHead","unshift","setClick","newSnake","setScore","newApple","checkAppleCollision","pop","context","getContext","setTransform","clearRect","window","innerWidth","innerHeight","fillStyle","forEach","x","y","fillRect","click","style","display","justifyContent","role","tabIndex","onKeyDown","e","keyCode","moveSnake","flexDirection","maxWidth","margin","onClick","width","border","backgroundColor","ref","height","Footer","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d4d54f3a.chunk.js","sourcesContent":["import React from \"react\"\nimport { Navbar } from \"react-bootstrap\"\nimport \"../style/mainStyle.scss\"\n\nconst Header = () => {\n\treturn (\n\t\t<div>\n\t\t\t<Navbar\n\t\t\t\tvariant=\"primary\"\n\t\t\t\texpand=\"lg\"\n\t\t\t\tclassName=\"header\"\n\t\t\t>\n\t\t\t\t<Navbar.Brand>Snake Game</Navbar.Brand>\n\t\t\t</Navbar>\n\t\t</div>\n\t)\n}\n\nexport default Header\n","const CANVAS_SIZE = [500, 500]\nconst SNAKE_START = [\n\t[14, 13],\n\t[14, 14],\n]\nconst APPLE_START = [8, 3]\nconst SCALE = 20\nconst SPEED = 120\nconst DIRECTIONS = {\n\t38: [0, -1], // up\n\t40: [0, 1], // down\n\t37: [-1, 0], // left\n\t39: [1, 0], // right\n}\n\nexport {\n\tCANVAS_SIZE,\n\tSNAKE_START,\n\tAPPLE_START,\n\tSCALE,\n\tSPEED,\n\tDIRECTIONS,\n}\n","import React, { useState, useEffect } from \"react\"\n\nconst BestScore = ({ score }) => {\n\tconst theBestHistoryScore = localStorage.getItem(\"score\")\n\n\tuseEffect(() => {\n\t\tsetBestScore(theBestHistoryScore)\n\t}, [theBestHistoryScore])\n\n\tconst [bestScore, setBestScore] = useState(0)\n\tuseEffect(() => {\n\t\tif (score > bestScore) {\n\t\t\tsetBestScore(score)\n\t\t\tlocalStorage.setItem(\"score\", score)\n\t\t}\n\t}, [score, bestScore])\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Your best score: {bestScore}</h2>\n\t\t\t<h2>Your score: {score}</h2>\n\t\t</div>\n\t)\n}\n\nexport default BestScore\n","import React, { useEffect, useState, useRef } from \"react\"\nimport { useInterval } from \"../useInterval\"\nimport {\n\tCANVAS_SIZE,\n\tSNAKE_START,\n\tAPPLE_START,\n\tSCALE,\n\tSPEED,\n\tDIRECTIONS,\n} from \"../constants\"\n\nimport BestScore from \"./bestScore\"\n\nconst MainSreen = () => {\n\tconst canvasRef = useRef()\n\tconst [snake, setSnake] = useState(SNAKE_START)\n\tconst [apple, setApple] = useState(APPLE_START)\n\tconst [dir, setDir] = useState([0, -1])\n\tconst [speed, setSpeed] = useState(null)\n\tconst [gameOver, setGameOver] = useState(true)\n\n\tuseInterval(() => gameLoop(), speed)\n\n\tconst endGame = () => {\n\t\tsetSpeed(null)\n\t\tsetGameOver(true)\n\t\tsetClick(\"Click the playing field to Start\")\n\t}\n\n\tconst moveSnake = ({ keyCode }) =>\n\t\tkeyCode >= 37 &&\n\t\tkeyCode <= 40 &&\n\t\tsetDir(DIRECTIONS[keyCode])\n\n\tconst createApple = () =>\n\t\tapple.map((_a, i) =>\n\t\t\tMath.floor(Math.random() * (CANVAS_SIZE[i] / SCALE))\n\t\t)\n\n\tconst checkCollision = (piece, snk = snake) => {\n\t\tif (\n\t\t\tpiece[0] * SCALE >= CANVAS_SIZE[0] ||\n\t\t\tpiece[0] < 0 ||\n\t\t\tpiece[1] * SCALE >= CANVAS_SIZE[1] ||\n\t\t\tpiece[1] < 0\n\t\t)\n\t\t\treturn true\n\n\t\tfor (const segment of snk) {\n\t\t\tif (\n\t\t\t\tpiece[0] === segment[0] &&\n\t\t\t\tpiece[1] === segment[1]\n\t\t\t)\n\t\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\n\tconst checkAppleCollision = (newSnake) => {\n\t\tif (\n\t\t\tnewSnake[0][0] === apple[0] &&\n\t\t\tnewSnake[0][1] === apple[1]\n\t\t) {\n\t\t\tsetScore(score + 1)\n\t\t\tlet newApple = createApple()\n\t\t\twhile (checkCollision(newApple, newSnake)) {\n\t\t\t\tnewApple = createApple()\n\t\t\t}\n\t\t\tsetApple(newApple)\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\n\tconst gameLoop = () => {\n\t\tconst snakeCopy = JSON.parse(JSON.stringify(snake))\n\t\tconst newSnakeHead = [\n\t\t\tsnakeCopy[0][0] + dir[0],\n\t\t\tsnakeCopy[0][1] + dir[1],\n\t\t]\n\t\tsnakeCopy.unshift(newSnakeHead)\n\t\tif (checkCollision(newSnakeHead)) endGame()\n\t\tif (!checkAppleCollision(snakeCopy)) snakeCopy.pop()\n\t\tsetSnake(snakeCopy)\n\t}\n\n\tconst startGame = () => {\n\t\tsetSnake(SNAKE_START)\n\t\tsetApple(APPLE_START)\n\t\tsetDir([0, -1])\n\t\tsetSpeed(SPEED)\n\t\tsetGameOver(false)\n\t}\n\n\tuseEffect(() => {\n\t\tconst context = canvasRef.current.getContext(\"2d\")\n\t\tcontext.setTransform(SCALE, 0, 0, SCALE, 0, 0)\n\t\tcontext.clearRect(\n\t\t\t0,\n\t\t\t0,\n\t\t\twindow.innerWidth,\n\t\t\twindow.innerHeight\n\t\t)\n\t\tcontext.fillStyle = \"gray\"\n\t\tsnake.forEach(([x, y]) => context.fillRect(x, y, 1, 1))\n\t\tcontext.fillStyle = \"red\"\n\t\tcontext.fillRect(apple[0], apple[1], 1, 1)\n\t}, [snake, apple, gameOver])\n\n\tconst [click, setClick] = useState(\n\t\t\"Click the playing field to Start\"\n\t)\n\n\tconst [score, setScore] = useState(0)\n\treturn (\n\t\t<div\n\t\t\tclassName=\"mainScreen\"\n\t\t\tstyle={{\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tjustifyContent: \"center\",\n\t\t\t}}\n\t\t>\n\t\t\t<div\n\t\t\t\trole=\"button\"\n\t\t\t\ttabIndex=\"1\"\n\t\t\t\tonKeyDown={(e) => moveSnake(e)}\n\t\t\t\tstyle={{\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tflexDirection: \"row\",\n\t\t\t\t\tjustifyContent: \"space-around\",\n\t\t\t\t\tmaxWidth: \"70rem\",\n\t\t\t\t\tmargin: \"auto\",\n\t\t\t\t}}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsetScore(0)\n\t\t\t\t\tstartGame()\n\t\t\t\t\tsetClick(\"Game is running\")\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div style={{ width: \"25rem\" }}>\n\t\t\t\t\t<BestScore score={score} />\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h4>{click}</h4>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<canvas\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tborder: \"2px solid gray\",\n\t\t\t\t\t\tbackgroundColor: \"white\",\n\t\t\t\t\t\tmargin: \"auto\",\n\t\t\t\t\t}}\n\t\t\t\t\tref={canvasRef}\n\t\t\t\t\twidth={`${CANVAS_SIZE[0]}px`}\n\t\t\t\t\theight={`${CANVAS_SIZE[1]}px`}\n\t\t\t\t></canvas>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default MainSreen\n","// Custom Hook by Dan Abramov\nimport { useEffect, useRef } from 'react';\n\nexport function useInterval(callback, delay) {\n  const savedCallback = useRef();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}","import React from \"react\"\nimport \"../style/mainStyle.scss\"\n\nconst Footer = () => {\n\treturn (\n\t\t<div className=\"footer\">\n\t\t\t<div className=\"footer\">\n\t\t\t\t<h6>2020 WEBTOM</h6>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Footer\n","import React from \"react\"\nimport Header from \"./components/Header\"\nimport MainSreen from \"./components/mainSreen\"\nimport Footer from \"./components/footer\"\nimport \"./style/mainStyle.scss\"\n\nconst App = () => {\n\treturn (\n\t\t<div className=\"wholePage\">\n\t\t\t<Header />\n\t\t\t<MainSreen />\n\t\t\t<Footer />\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}
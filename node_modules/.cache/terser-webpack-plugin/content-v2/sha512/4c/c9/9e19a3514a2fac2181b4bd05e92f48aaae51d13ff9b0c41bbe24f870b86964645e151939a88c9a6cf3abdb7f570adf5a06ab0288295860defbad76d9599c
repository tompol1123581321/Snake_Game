{"code":"(this[\"webpackJsonpreact-snake\"]=this[\"webpackJsonpreact-snake\"]||[]).push([[0],{10:function(e,t,n){\"use strict\";n.r(t);var r=n(0),c=n.n(r),a=n(4),u=n.n(a),i=n(5),o=n(1);var f=[800,800],l=[[8,7],[8,8]],s=[8,3],b=40,v={38:[0,-1],40:[0,1],37:[-1,0],39:[1,0]},O=function(){var e=Object(r.useRef)(),t=Object(r.useState)(l),n=Object(o.a)(t,2),a=n[0],u=n[1],O=Object(r.useState)(s),d=Object(o.a)(O,2),j=d[0],h=d[1],p=Object(r.useState)([0,-1]),E=Object(o.a)(p,2),m=E[0],S=E[1],y=Object(r.useState)(null),k=Object(o.a)(y,2),w=k[0],g=k[1],R=Object(r.useState)(!1),x=Object(o.a)(R,2),I=x[0],J=x[1];!function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){return G()}),w);var C=function(){return j.map((function(e,t){return Math.floor(Math.random()*(f[t]/b))}))},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if(e[0]*b>=f[0]||e[0]<0||e[1]*b>=f[1]||e[1]<0)return!0;var n,r=Object(i.a)(t);try{for(r.s();!(n=r.n()).done;){var c=n.value;if(e[0]===c[0]&&e[1]===c[1])return!0}}catch(u){r.e(u)}finally{r.f()}return!1},G=function(){var e=JSON.parse(JSON.stringify(a)),t=[e[0][0]+m[0],e[0][1]+m[1]];e.unshift(t),M(t)&&(g(null),J(!0)),function(e){if(e[0][0]===j[0]&&e[0][1]===j[1]){for(var t=C();M(t,e);)t=C();return h(t),!0}return!1}(e)||e.pop(),u(e)};return Object(r.useEffect)((function(){var t=e.current.getContext(\"2d\");t.setTransform(b,0,0,b,0,0),t.clearRect(0,0,window.innerWidth,window.innerHeight),t.fillStyle=\"pink\",a.forEach((function(e){var n=Object(o.a)(e,2),r=n[0],c=n[1];return t.fillRect(r,c,1,1)})),t.fillStyle=\"lightblue\",t.fillRect(j[0],j[1],1,1)}),[a,j,I]),c.a.createElement(\"div\",{role:\"button\",tabIndex:\"0\",onKeyDown:function(e){return function(e){var t=e.keyCode;return t>=37&&t<=40&&S(v[t])}(e)}},c.a.createElement(\"canvas\",{style:{border:\"1px solid black\"},ref:e,width:\"\".concat(f[0],\"px\"),height:\"\".concat(f[1],\"px\")}),I&&c.a.createElement(\"div\",null,\"GAME OVER!\"),c.a.createElement(\"button\",{onClick:function(){u(l),h(s),S([0,-1]),g(100),J(!1)}},\"Start Game\"))};u.a.render(c.a.createElement(O,null),document.getElementById(\"root\"))}},[[10,1,2]]]);","name":"static/js/main.d80b7d6f.chunk.js","map":{"version":3,"sources":["static/js/main.d80b7d6f.chunk.js"],"names":["this","push","10","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","createForOfIteratorHelper","slicedToArray","CANVAS_SIZE","SNAKE_START","APPLE_START","SCALE","DIRECTIONS","38","40","37","39","src_App","canvasRef","Object","_useState","_useState2","snake","setSnake","_useState3","_useState4","apple","setApple","_useState5","_useState6","dir","setDir","_useState7","_useState8","speed","setSpeed","_useState9","_useState10","gameOver","setGameOver","callback","delay","savedCallback","current","id","setInterval","clearInterval","useInterval","gameLoop","createApple","map","_a","i","Math","floor","random","checkCollision","piece","snk","arguments","length","undefined","_step","_iterator","s","done","segment","value","err","e","f","snakeCopy","JSON","parse","stringify","newSnakeHead","unshift","newSnake","newApple","checkAppleCollision","pop","context","getContext","setTransform","clearRect","window","innerWidth","innerHeight","fillStyle","forEach","_ref2","_ref3","x","y","fillRect","a","createElement","role","tabIndex","onKeyDown","_ref","keyCode","moveSnake","style","border","ref","width","concat","height","onClick","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpreact-snake\"] = this[\"webpackJsonpreact-snake\"] || []).push([[0],{\n\n/***/ 10:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(4);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\nvar createForOfIteratorHelper = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/useInterval.js\n// Custom Hook by Dan Abramov\nfunction useInterval(callback,delay){var savedCallback=Object(react[\"useRef\"])();// Remember the latest callback.\nObject(react[\"useEffect\"])(function(){savedCallback.current=callback;},[callback]);// Set up the interval.\nObject(react[\"useEffect\"])(function(){function tick(){savedCallback.current();}if(delay!==null){var id=setInterval(tick,delay);return function(){return clearInterval(id);};}},[delay]);}\n// CONCATENATED MODULE: ./src/constants.js\nvar CANVAS_SIZE=[800,800];var SNAKE_START=[[8,7],[8,8]];var APPLE_START=[8,3];var SCALE=40;var SPEED=100;var DIRECTIONS={38:[0,-1],// up\n40:[0,1],// down\n37:[-1,0],// left\n39:[1,0]// right\n};\n// CONCATENATED MODULE: ./src/App.js\nvar App_App=function App(){var canvasRef=Object(react[\"useRef\"])();var _useState=Object(react[\"useState\"])(SNAKE_START),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),snake=_useState2[0],setSnake=_useState2[1];var _useState3=Object(react[\"useState\"])(APPLE_START),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),apple=_useState4[0],setApple=_useState4[1];var _useState5=Object(react[\"useState\"])([0,-1]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),dir=_useState6[0],setDir=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),speed=_useState8[0],setSpeed=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),gameOver=_useState10[0],setGameOver=_useState10[1];useInterval(function(){return gameLoop();},speed);var endGame=function endGame(){setSpeed(null);setGameOver(true);};var moveSnake=function moveSnake(_ref){var keyCode=_ref.keyCode;return keyCode>=37&&keyCode<=40&&setDir(DIRECTIONS[keyCode]);};var createApple=function createApple(){return apple.map(function(_a,i){return Math.floor(Math.random()*(CANVAS_SIZE[i]/SCALE));});};var checkCollision=function checkCollision(piece){var snk=arguments.length>1&&arguments[1]!==undefined?arguments[1]:snake;if(piece[0]*SCALE>=CANVAS_SIZE[0]||piece[0]<0||piece[1]*SCALE>=CANVAS_SIZE[1]||piece[1]<0)return true;var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(snk),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var segment=_step.value;if(piece[0]===segment[0]&&piece[1]===segment[1])return true;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return false;};var checkAppleCollision=function checkAppleCollision(newSnake){if(newSnake[0][0]===apple[0]&&newSnake[0][1]===apple[1]){var newApple=createApple();while(checkCollision(newApple,newSnake)){newApple=createApple();}setApple(newApple);return true;}return false;};var gameLoop=function gameLoop(){var snakeCopy=JSON.parse(JSON.stringify(snake));var newSnakeHead=[snakeCopy[0][0]+dir[0],snakeCopy[0][1]+dir[1]];snakeCopy.unshift(newSnakeHead);if(checkCollision(newSnakeHead))endGame();if(!checkAppleCollision(snakeCopy))snakeCopy.pop();setSnake(snakeCopy);};var startGame=function startGame(){setSnake(SNAKE_START);setApple(APPLE_START);setDir([0,-1]);setSpeed(SPEED);setGameOver(false);};Object(react[\"useEffect\"])(function(){var context=canvasRef.current.getContext(\"2d\");context.setTransform(SCALE,0,0,SCALE,0,0);context.clearRect(0,0,window.innerWidth,window.innerHeight);context.fillStyle=\"pink\";snake.forEach(function(_ref2){var _ref3=Object(slicedToArray[\"a\" /* default */])(_ref2,2),x=_ref3[0],y=_ref3[1];return context.fillRect(x,y,1,1);});context.fillStyle=\"lightblue\";context.fillRect(apple[0],apple[1],1,1);},[snake,apple,gameOver]);return/*#__PURE__*/react_default.a.createElement(\"div\",{role:\"button\",tabIndex:\"0\",onKeyDown:function onKeyDown(e){return moveSnake(e);}},/*#__PURE__*/react_default.a.createElement(\"canvas\",{style:{border:\"1px solid black\"},ref:canvasRef,width:\"\".concat(CANVAS_SIZE[0],\"px\"),height:\"\".concat(CANVAS_SIZE[1],\"px\")}),gameOver&&/*#__PURE__*/react_default.a.createElement(\"div\",null,\"GAME OVER!\"),/*#__PURE__*/react_default.a.createElement(\"button\",{onClick:startGame},\"Start Game\"));};/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/react_default.a.createElement(src_App,null),document.getElementById(\"root\"));\n\n/***/ })\n\n},[[10,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/tomas/Documents/CodingProjects/snake/react-snake-START-HERE/src/useInterval.js","/home/tomas/Documents/CodingProjects/snake/react-snake-START-HERE/src/constants.js","/home/tomas/Documents/CodingProjects/snake/react-snake-START-HERE/src/App.js","/home/tomas/Documents/CodingProjects/snake/react-snake-START-HERE/src/index.js"],"names":["useInterval","callback","delay","savedCallback","useRef","useEffect","current","tick","id","setInterval","clearInterval","CANVAS_SIZE","SNAKE_START","APPLE_START","SCALE","SPEED","DIRECTIONS","App","canvasRef","useState","snake","setSnake","apple","setApple","dir","setDir","speed","setSpeed","gameOver","setGameOver","gameLoop","endGame","moveSnake","keyCode","createApple","map","_a","i","Math","floor","random","checkCollision","piece","snk","segment","checkAppleCollision","newSnake","newApple","snakeCopy","JSON","parse","stringify","newSnakeHead","unshift","pop","startGame","context","getContext","setTransform","clearRect","window","innerWidth","innerHeight","fillStyle","forEach","x","y","fillRect","e","border","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// Custom Hook by Dan Abramov\nimport { useEffect, useRef } from 'react';\n\nexport function useInterval(callback, delay) {\n  const savedCallback = useRef();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}","const CANVAS_SIZE = [800, 800];\nconst SNAKE_START = [\n  [8, 7],\n  [8, 8]\n];\nconst APPLE_START = [8, 3];\nconst SCALE = 40;\nconst SPEED = 100;\nconst DIRECTIONS = {\n  38: [0, -1], // up\n  40: [0, 1], // down\n  37: [-1, 0], // left\n  39: [1, 0] // right\n};\n\nexport {\n  CANVAS_SIZE,\n  SNAKE_START,\n  APPLE_START,\n  SCALE,\n  SPEED,\n  DIRECTIONS\n};\n","import React, { useState, useRef, useEffect } from \"react\"\nimport { useInterval } from \"./useInterval\"\nimport {\n\tCANVAS_SIZE,\n\tSNAKE_START,\n\tAPPLE_START,\n\tSCALE,\n\tSPEED,\n\tDIRECTIONS,\n} from \"./constants\"\n\nconst App = () => {\n\tconst canvasRef = useRef()\n\tconst [snake, setSnake] = useState(SNAKE_START)\n\tconst [apple, setApple] = useState(APPLE_START)\n\tconst [dir, setDir] = useState([0, -1])\n\tconst [speed, setSpeed] = useState(null)\n\tconst [gameOver, setGameOver] = useState(false)\n\n\tuseInterval(() => gameLoop(), speed)\n\n\tconst endGame = () => {\n\t\tsetSpeed(null)\n\t\tsetGameOver(true)\n\t}\n\n\tconst moveSnake = ({ keyCode }) =>\n\t\tkeyCode >= 37 &&\n\t\tkeyCode <= 40 &&\n\t\tsetDir(DIRECTIONS[keyCode])\n\n\tconst createApple = () =>\n\t\tapple.map((_a, i) =>\n\t\t\tMath.floor(Math.random() * (CANVAS_SIZE[i] / SCALE))\n\t\t)\n\n\tconst checkCollision = (piece, snk = snake) => {\n\t\tif (\n\t\t\tpiece[0] * SCALE >= CANVAS_SIZE[0] ||\n\t\t\tpiece[0] < 0 ||\n\t\t\tpiece[1] * SCALE >= CANVAS_SIZE[1] ||\n\t\t\tpiece[1] < 0\n\t\t)\n\t\t\treturn true\n\n\t\tfor (const segment of snk) {\n\t\t\tif (\n\t\t\t\tpiece[0] === segment[0] &&\n\t\t\t\tpiece[1] === segment[1]\n\t\t\t)\n\t\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\n\tconst checkAppleCollision = (newSnake) => {\n\t\tif (\n\t\t\tnewSnake[0][0] === apple[0] &&\n\t\t\tnewSnake[0][1] === apple[1]\n\t\t) {\n\t\t\tlet newApple = createApple()\n\t\t\twhile (checkCollision(newApple, newSnake)) {\n\t\t\t\tnewApple = createApple()\n\t\t\t}\n\t\t\tsetApple(newApple)\n\t\t\treturn true\n\t\t}\n\t\treturn false\n\t}\n\n\tconst gameLoop = () => {\n\t\tconst snakeCopy = JSON.parse(JSON.stringify(snake))\n\t\tconst newSnakeHead = [\n\t\t\tsnakeCopy[0][0] + dir[0],\n\t\t\tsnakeCopy[0][1] + dir[1],\n\t\t]\n\t\tsnakeCopy.unshift(newSnakeHead)\n\t\tif (checkCollision(newSnakeHead)) endGame()\n\t\tif (!checkAppleCollision(snakeCopy)) snakeCopy.pop()\n\t\tsetSnake(snakeCopy)\n\t}\n\n\tconst startGame = () => {\n\t\tsetSnake(SNAKE_START)\n\t\tsetApple(APPLE_START)\n\t\tsetDir([0, -1])\n\t\tsetSpeed(SPEED)\n\t\tsetGameOver(false)\n\t}\n\n\tuseEffect(() => {\n\t\tconst context = canvasRef.current.getContext(\"2d\")\n\t\tcontext.setTransform(SCALE, 0, 0, SCALE, 0, 0)\n\t\tcontext.clearRect(\n\t\t\t0,\n\t\t\t0,\n\t\t\twindow.innerWidth,\n\t\t\twindow.innerHeight\n\t\t)\n\t\tcontext.fillStyle = \"pink\"\n\t\tsnake.forEach(([x, y]) => context.fillRect(x, y, 1, 1))\n\t\tcontext.fillStyle = \"lightblue\"\n\t\tcontext.fillRect(apple[0], apple[1], 1, 1)\n\t}, [snake, apple, gameOver])\n\n\treturn (\n\t\t<div\n\t\t\trole=\"button\"\n\t\t\ttabIndex=\"0\"\n\t\t\tonKeyDown={(e) => moveSnake(e)}\n\t\t>\n\t\t\t<canvas\n\t\t\t\tstyle={{ border: \"1px solid black\" }}\n\t\t\t\tref={canvasRef}\n\t\t\t\twidth={`${CANVAS_SIZE[0]}px`}\n\t\t\t\theight={`${CANVAS_SIZE[1]}px`}\n\t\t\t/>\n\t\t\t{gameOver && <div>GAME OVER!</div>}\n\t\t\t<button onClick={startGame}>Start Game</button>\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"]}}